"use strict";(globalThis.webpackChunkshopify_academy=globalThis.webpackChunkshopify_academy||[]).push([[4097],{4941:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"analytics/datalayer","title":"DataLayer \u7ed3\u6784\uff08\u767e\u5ea6\u7edf\u8ba1\uff09","description":"\u5728\u4e3b\u9898\u4e2d\u7ef4\u62a4\u7edf\u4e00\u7684\u6570\u636e\u5c42\uff0c\u4fbf\u4e8e\u767e\u5ea6\u7edf\u8ba1\u6216\u5176\u4ed6\u5206\u6790\u5de5\u5177\u6d88\u8d39\u3002","source":"@site/recipes/analytics/datalayer.md","sourceDirName":"analytics","slug":"/analytics/datalayer","permalink":"/recipes/analytics/datalayer","draft":false,"unlisted":false,"editUrl":"https://github.com/shopxueyuan/shopxueyuan.github.io/edit/main/recipes/analytics/datalayer.md","tags":[],"version":"current","frontMatter":{"id":"datalayer","title":"DataLayer \u7ed3\u6784\uff08\u767e\u5ea6\u7edf\u8ba1\uff09"},"sidebar":"recipesSidebar","previous":{"title":"\u6570\u636e\u4e0e\u76d1\u63a7","permalink":"/recipes/analytics/"}}');var r=a(4848),i=a(8453);const c={id:"datalayer",title:"DataLayer \u7ed3\u6784\uff08\u767e\u5ea6\u7edf\u8ba1\uff09"},s=void 0,o={},d=[];function l(e){const t={blockquote:"blockquote",code:"code",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"\u5728\u4e3b\u9898\u4e2d\u7ef4\u62a4\u7edf\u4e00\u7684\u6570\u636e\u5c42\uff0c\u4fbf\u4e8e\u767e\u5ea6\u7edf\u8ba1\u6216\u5176\u4ed6\u5206\u6790\u5de5\u5177\u6d88\u8d39\u3002"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-liquid",children:"{% comment %} layout/theme.liquid {% endcomment %}\n<script>\n  window.dataLayer = window.dataLayer || [];\n  window.dataLayer.push({\n    event: 'page_view',\n    shop_id: '{{ shop.id }}',\n    currency: '{{ cart.currency.iso_code }}',\n    locale: '{{ request.locale.iso_code }}',\n    template: '{{ template }}',\n  });\n<\/script>\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u5728\u5177\u4f53\u9875\u9762\uff08\u5982\u4ea7\u54c1\u8be6\u60c5\uff09\u8ffd\u52a0\u4e1a\u52a1\u5b57\u6bb5\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-liquid",children:"<script>\n  window.dataLayer.push({\n    event: 'product_view',\n    product_id: '{{ product.id }}',\n    variant_id: '{{ product.selected_or_first_available_variant.id }}',\n    price: '{{ product.selected_or_first_available_variant.price | money_without_currency }}'\n  });\n<\/script>\n"})}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:["\u4e0e\u767e\u5ea6\u7edf\u8ba1\u7ed3\u5408\u65f6\uff0c\u53ef\u5728 HM \u521d\u59cb\u5316\u540e\u8bfb\u53d6 ",(0,r.jsx)(t.code,{children:"dataLayer"})," \u5e76\u8f6c\u5316\u4e3a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u3002"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>c,x:()=>s});var n=a(6540);const r={},i=n.createContext(r);function c(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);